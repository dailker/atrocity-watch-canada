<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Publication & Press Release Logs - Atrocity Watch Canada</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #121212; color: #f5f5f7; font-family: 'Roboto', sans-serif; }
        .matrix-font { font-family: 'Orbitron', sans-serif; }
        pre { white-space: pre-wrap; word-break: break-word; }
    </style>
</head>
<body>
<%- include('../partials/adminHeader', { user: user }) %>
<div class="container mx-auto px-4 py-8 pt-32">
  <h2 class="text-2xl font-bold mb-6 matrix-font text-green-400">Publication & Press Release Logs</h2>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-black bg-opacity-80 rounded-lg border border-green-400/30">
      <thead>
        <tr>
          <th class="p-2 matrix-font text-green-400">Timestamp</th>
          <th class="p-2 matrix-font text-green-400">User</th>
          <th class="p-2 matrix-font text-green-400">Type</th>
          <th class="p-2 matrix-font text-green-400">Action</th>
          <th class="p-2 matrix-font text-green-400">Old Data</th>
          <th class="p-2 matrix-font text-green-400">New Data</th>
        </tr>
      </thead>
      <tbody>
        <% logs.forEach(function(log) { %>
          <tr>
            <td class="p-2"><%= log.timestamp.toLocaleString() %></td>
            <td class="p-2"><%= log.user ? log.user.username : '' %></td>
            <td class="p-2"><%= log.refType %></td>
            <td class="p-2"><%= log.action %></td>
            <td class="p-2"><pre><%= JSON.stringify(log.oldData, null, 2) %></pre></td>
            <td class="p-2"><pre><%= JSON.stringify(log.newData, null, 2) %></pre></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>
<%- include('../partials/adminFooter') %>
</body>
</html>
